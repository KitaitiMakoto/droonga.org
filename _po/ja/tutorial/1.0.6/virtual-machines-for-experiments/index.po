msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"PO-Revision-Date: 2014-09-26 18:15+0900\n"
"Language: ja\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

msgid ""
"---\n"
"title: \"Droonga tutorial: How to prepare virtual machines for experiments?\"\n"
"layout: en\n"
"---"
msgstr ""
"---\n"
"title: \"Droongaチュートリアル: 実験用の仮想マシンを用意する手順\"\n"
"layout: ja\n"
"---"

msgid ""
"* TOC\n"
"{:toc}"
msgstr ""

msgid "## The goal of this tutorial"
msgstr "## チュートリアルのゴール"

msgid "Learning steps to prepare multiple (three) virtual machines for experiments."
msgstr "実験用に複数（3台）の仮想マシンを用意する手順を学ぶこと。"

msgid "## Why virtual machines?"
msgstr "## なぜ仮想マシンが必要なのか？"

msgid ""
"Because Droonga is a distributed data processing system, you have to prepare m"
"ultiple computers to construct a cluster.\n"
"For safety (and good performance) you should use dedicated computers for Droon"
"ga nodes."
msgstr ""
"Droongaは分散型のデータ処理システムなので、クラスタを構成するには複数の台のコンピュータを用意する必要があります。\n"
"安全のためにも（そしてより良い性能を得るためにも）、Droongaノードにはそれ用のコンピュータを用意することが望ましいです。"

msgid ""
"You need two or more computers for effective replication.\n"
"If you are trying to manage node structure of your cluster effectively, three "
"or more computers are required."
msgstr ""
"有効なレプリケーションのためには、2台以上のコンピュータが必要です。\n"
"また、クラスタ構成の管理を試してみるには、3台以上のコンピュータが必要となります。"

msgid ""
"However, it may cost money that using multiple server instances on virtual pri"
"vate server services, even if you just want to do testing or development.\n"
"So we recommend you to use private virtual machines on your own PC for such ca"
"ses."
msgstr ""
"しかしながら、仮に、単に検証や開発をしたい場合でも、複数の仮想マシンのインスタンスをVPSサービスで利用するにはお金がかかります。\n"
"そのような用途では、あなたの手持ちのコンピュータ上でプライベートな仮想マシンを使うのがおすすめです。"

msgid ""
"Luckly, there is a useful software [Vagrant][] to manage virtual machines easi"
"ly.\n"
"This tutorial describes *how to prepare three virtual machines* by Vagrant."
msgstr ""
"幸いなことに、[Vagrant][]を使うと仮想マシンを簡単に管理することができます。\n"
"このチュートリアルでは、Vagrantを使って*3台の仮想マシンを用意する手順*を解説します。"

msgid "## Prepare a host machine"
msgstr "## ホストマシンを用意する"

msgid ""
"First, you have to prepare a PC as the host of VMs.\n"
"Because each VM requires much RAM, the host machine should have much more RAM "
"- hopefully, 8GB or larger."
msgstr ""
"まず最初に、仮想マシンのホストとなるPCを用意する必要があります。\n"
"仮想マシンは多くのRAMを要求するため、ホストマシンにはできれば8GB以上のメモリがあることが望ましいです。"

msgid ""
"(However, 3GB RAM may be enough to do experiments.\n"
"When you install components of the Droonga system, the machine must have 2GB R"
"AM at minimum, to build native extensions of [Rroonga][].\n"
"After that, Droonga nodes can work with less RAM, for example 512MB.)"
msgstr ""
"（ただ、単なる実験のためであれば、3GB程度のメモリがあればどうにかなります。\n"
"Droongaシステムを構成するコンポーネントをインストールする時には、[Rroonga][]のネイティブ拡張をビルドするために最低でも2GB程度のメモリが"
"必要になります。\n"
"しかし一度ビルドが終わってしまえば、その後は各Droongaノードには512MBかその程度のメモリがあれば十分に動作します。）"

msgid "## Steps to prepare VMs"
msgstr "## 仮想マシンを用意する手順"

msgid "### Install the VirtualBox"
msgstr "### VirtualBoxをインストールする"

msgid ""
"The Vagrant requires a backend to run VMs, so you have to install the most rec"
"ommended one: [VirtualBox][].\n"
"For example, if you use an [Ubuntu][] PC, it can be installed via the `apt` co"
"mmand, like:"
msgstr ""
"Vagrantには、仮想マシンを実行するためのバックエンドが必要です。ここでは推奨環境の[VirtualBox][]をインストールすることにします。\n"
"例えば、ホストマシンが[Ubuntu][]で動作するPCなのであれば、VirtualBoxは以下のように`apt`コマンドでインストールできます:"

msgid ""
"~~~\n"
"$ sudo apt-get install virtualbox\n"
"~~~"
msgstr ""

msgid "### Install the Vagrant"
msgstr "### Vagrantをインストールする"

msgid ""
"Go to the [Vagrant web site][Vagrant] and install it as instructed.\n"
"For example, if you use an Ubuntu PC (x64):"
msgstr ""
"[VagrantのWebサイト][Vagrant]にある手順に従って、Vagrantをインストールします。\n"
"例えば、ホストマシンがx64のUbuntu　PCなのであれば、以下の要領です:"

msgid ""
"~~~\n"
"$ sudo apt-get install virtualbox\n"
"$ wget https://dl.bintray.com/mitchellh/vagrant/vagrant_1.6.5_x86_64.deb\n"
"$ sudo dpkg -i vagrant_1.6.5_x86_64.deb\n"
"~~~"
msgstr ""

msgid "### Determine a box and prepare a Vagrantfile"
msgstr "### boxの種類を決めて、Vagrantfileを用意する"

msgid ""
"Go to the [Vagrant Cloud][] and find a box for your experiments.\n"
"For example, if you use a [box for Ubuntu Trusty (x64)](https://vagrantcloud.c"
"om/ubuntu/boxes/trusty64), you just have to do:"
msgstr ""
"[Vagrant Cloud][]のサイトから、実験に使うためのboxを選びます。\n"
"例えば[Ubuntu Trusty (x64)のbox](https://vagrantcloud.com/ubuntu/boxes/trusty64)を使"
"うのであれば、以下のようにします:"

msgid ""
"~~~\n"
"$ mkdir droonga-ubuntu-trusty\n"
"$ cd droonga-ubuntu-trusty\n"
"$ vagrant init ubuntu/trusty64\n"
"~~~"
msgstr ""

msgid ""
"Then a file `Vagrantfile` is automatically generated there.\n"
"However you should rewrite it completely for experiments of Droonga cluster, l"
"ike following:"
msgstr ""
"この操作で、設定ファイルの`Vagrantfile`が自動生成されます。\n"
"しかし、このファイルはDroongaクラスタの実験のために、以下のように完全に書き換えてしまいます:"

msgid "`Vagrantfile`:"
msgstr ""

msgid ""
"~~~\n"
"n_machines = 3\n"
"box        = \"ubuntu/trusty64\""
msgstr ""

msgid ""
"VAGRANTFILE_API_VERSION = \"2\"\n"
"Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n"
"  n_machines.times do |index|\n"
"    config.vm.define :\"node#{index}\" do |node_config|\n"
"      node_config.vm.box = box\n"
"      node_config.vm.network(:private_network,\n"
"                             :ip => \"192.168.100.#{50 + index}\")\n"
"      node_config.vm.host_name = \"node#{index}\"\n"
"      node_config.vm.provider(\"virtualbox\") do |virtual_box|\n"
"        virtual_box.memory = 2048\n"
"      end\n"
"    end\n"
"  end\n"
"end\n"
"~~~"
msgstr ""

msgid ""
"Note, this `Vagrantfile` defines three VMs with 2GB (2048MB) RAM for each.\n"
"So your host machine must have 6GB or more RAM.\n"
"If your machine has less RAM, set the size to `512` (meaning 512MB) for now."
msgstr ""
"注：この`Vagrantfile`では、3つの仮想マシンを2GB（2048MB）のメモリを伴って定義しています。\n"
"ですので、ホストマシンは6GB以上のメモリを搭載している必要があります。\n"
"もしホストマシンのメモリがそこまで多くないのであれば、この時点では`512`（512MB）などの適当な値を設定しておいて下さい。"

msgid "### Start virtual machines"
msgstr "### 仮想マシンを起動する"

msgid "To start VMs, you just run the command `vagrant up`:"
msgstr "仮想マシンは、`vagrant up`というコマンドで起動できます:"

msgid ""
"~~~\n"
"$ vagrant up\n"
"Bringing machine 'node0' up with 'virtualbox' provider...\n"
"Bringing machine 'node1' up with 'virtualbox' provider...\n"
"Bringing machine 'node2' up with 'virtualbox' provider...\n"
"...\n"
"~~~"
msgstr ""

msgid ""
"Then Vagrant automatically downloads VM image from the [Vagrant Cloud][] web s"
"ite and starts VMs.\n"
"After preparation processes, there are three running VMs with IP address in a "
"virtual private network: `192.168.100.50`, `192.168.100.51`, and `192.168.100."
"52`."
msgstr ""
"これにより、Vagrantは自動的に仮想マシンのイメージを[Vagrant Cloud][]のWebサイトからダウンロードし、それが終わり次第仮想マシンを起"
"動します。\n"
"用意が完了すると、仮想ネットワーク上のIPアドレスとして`192.168.100.50`、`192.168.100.51`、`192.168.100.52`"
"をそれぞれ持つ3台の仮想マシンが動作している状態になります。"

msgid ""
"Let's confirm that they are correctly working.\n"
"You can log in those VMs by the command `vagrant ssh`, like:"
msgstr ""
"仮想マシンが正しく動いていることを確認しましょう。\n"
"仮想マシンには`vagrant ssh`コマンドを使って以下のようにログインできます:"

msgid ""
"~~~\n"
"$ vagrant ssh node0\n"
"Welcome to Ubuntu 14.04.1 LTS (GNU/Linux 3.13.0-36-generic x86_64)\n"
"...\n"
"vagrant@node0:~$ exit\n"
"~~~"
msgstr ""

msgid "### Register your VMs to your SSH client"
msgstr "### 仮想マシンをSSHクライアントに登録する"

msgid ""
"You have to use `vagrant ssh` instead of regular `ssh`, to log in VMs.\n"
"Moreover you have to `cd` to the `Vagrantfile`'s directory before running the "
"command.\n"
"It is annoying a little."
msgstr ""
"仮想マシンにログインするためには、通常の`ssh`コマンドではなく、`vagrant ssh`コマンドを使わなくてはなりません。\n"
"また、その前には`Vagrantfile`があるディレクトリに`cd`する必要もあります。\n"
"これは少々面倒です。"

msgid "So, let's register VMs to your local config file of the SSH client, like:"
msgstr "ですので、SSHクライアントのローカル設定ファイルに、以下のようにして仮想マシンのための設定を追加しておきましょう:"

msgid ""
"~~~\n"
"$ vagrant ssh-config node0 >> ~/.ssh/config\n"
"$ vagrant ssh-config node1 >> ~/.ssh/config\n"
"$ vagrant ssh-config node2 >> ~/.ssh/config\n"
"~~~"
msgstr ""

msgid ""
"After that you can log in to your VMs from the host computer by their name, wi"
"thout `vagrant ssh` command:"
msgstr "これで、`vagrant ssh`コマンドを使わずとも、仮想マシンの名前を指定してログインできるようになります:"

msgid ""
"~~~\n"
"$ ssh node0\n"
"~~~"
msgstr ""

msgid "### Configure your VMs to access each other by their host name"
msgstr "### 仮想マシン同士で互いのホスト名を名前解決できるように設定する"

msgid ""
"Because there is no name server, each VM cannot resolve host names of others.\n"
"So you have to type their raw IP addresses for now.\n"
"It's very annoying."
msgstr ""
"ネームサーバがないので、各仮想マシンはお互いのホスト名を名前解決する事ができません。\n"
"そのため、現時点ではそれぞれのIPアドレスを直接書く必要があります。\n"
"これは非常に面倒です。"

msgid "So, let's modify hosts file on VMs, like:"
msgstr "なので、各仮想マシンのhostsファイルを以下のように編集しておきましょう:"

msgid "`/etc/hosts`:"
msgstr ""

msgid ""
"~~~\n"
"127.0.0.1 localhost\n"
"192.168.100.50 node0\n"
"192.168.100.51 node1\n"
"192.168.100.52 node2\n"
"~~~"
msgstr ""

msgid "After that your VMs can communicate with each other by their host name."
msgstr "これで、各マシンはお互いにホスト名を指定して通信できるようになります。"

msgid "### Shutdown VMs"
msgstr "### 仮想マシンの終了"

msgid "You can shutdown all VMs by the command `vagrant halt`:"
msgstr "仮想マシンは、`vagrant halt`コマンドでまとめて終了できます:"

msgid ""
"~~~\n"
"$ vagrant halt\n"
"~~~"
msgstr ""

msgid "Then Vagrant shuts down all VMs completely."
msgstr "これで、Vagrantがすべての仮想マシンを完全に終了させてくれます。"

msgid "### Appendix: if your host machine has less size RAM..."
msgstr "### 付録: ホストマシンのRAMがそれほど多くない場合"

msgid ""
"If your host machine has less RAM (for example smaller than 3GB), you cannot r"
"un all VMs with 2GB RAM.\n"
"However, if you configure VMs with small size RAM (ex. 512MB), you cannot inst"
"all Droonga services."
msgstr ""
"ホストマシンのメモリが小さい（例えば3GB未満）と、2GBのメモリを持った状態の仮想マシンは複数起動できません。\n"
"しかしながら、仮想マシンのメモリを小さく設定すると（例えば512MB）、Droongaのサービスをインストールできません。"

msgid "Then you can install Droonga services for each VM step by step, like:"
msgstr "このような場合、以下の手順でDroongaのサービスを各仮想マシンに1台ずつインストールできます:"

msgid ""
" 1. Shutdown all VMs by `vagrant halt`.\n"
" 2. Open the VirtualBox console by `virtualbox`.\n"
" 3. Go to `properties` of a VM, and enlarge the size of RAM to 2GB (2048MB).\n"
" 4. Start the VM, from the VirtualBox console.\n"
" 5. Log in to the VM and install Droonga services.\n"
" 6. Shutdown the VM.\n"
" 7. Go to `properties` of the VM, and decrease the size of RAM to the original"
" size.\n"
" 8. Repeat steps from 3 to 7 for each VM."
msgstr ""
" 1. `vagrant halt`ですべての仮想マシンを終了する。\n"
" 2. `virtualbox`でVirtualBoxのコンソールを開く。\n"
" 3. 1台の仮想マシンのプロパティを開き、メモリの大きさを2GB（2048MB）に設定し直す。\n"
" 4. VirtualBoxのコンソールからその仮想マシンを起動する。\n"
" 5. 仮想マシンにログインし、Droongaのサービスをインストールする。\n"
" 6. 仮想マシンを終了する。\n"
" 7. 仮想マシンのプロパティを開き、メモリの大きさを元に戻す。\n"
" 8. 3から7の手順を他の仮想マシンにも繰り返す。"

msgid "## Conclusion"
msgstr "## まとめ"

msgid "In this tutorial, you did prepare three virtual machines for Droonga nodes."
msgstr "このチュートリアルでは、Droongaノード用に3台の仮想マシンを用意する手順を学びました。"

msgid ""
"You can try [the \"getting started\" tutorial](../groonga/) and others with mult"
"iple nodes."
msgstr "これで、[「使ってみる」のチュートリアル](../groonga/)を複数ノードで実践できます。"

msgid ""
"  [Vagrant]: https://www.vagrantup.com/\n"
"  [Vagrant Cloud]: https://vagrantcloud.com/\n"
"  [VirtualBox]: https://www.virtualbox.org/\n"
"  [Rroonga]: https://github.com/ranguba/rroonga\n"
"  [Ubuntu]: http://www.ubuntu.com/\n"
"  [Droonga]: https://droonga.org/\n"
"  [Groonga]: http://groonga.org/"
msgstr ""
